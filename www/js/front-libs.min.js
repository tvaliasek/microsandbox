!function(a,b){if(a.JSON)if("function"==typeof define&&define.amd)define(function(){return b(a)});else if("object"==typeof module&&"object"==typeof module.exports)module.exports=b(a);else{var c=!a.Nette||!a.Nette.noInit;a.Nette=b(a),c&&a.Nette.initOnLoad()}}("undefined"!=typeof window?window:this,function(window){"use strict";function getHandler(a){return function(b){return a.call(this,b)}}var Nette={};return Nette.formErrors=[],Nette.version="2.4",Nette.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c):"DOMContentLoaded"===b?a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&c.call(this)}):a.attachEvent("on"+b,getHandler(c))},Nette.getValue=function(a){var b;if(a){if(a.tagName){if("radio"===a.type){var c=a.form.elements;for(b=0;b<c.length;b++)if(c[b].name===a.name&&c[b].checked)return c[b].value;return null}if("file"===a.type)return a.files||a.value;if("select"===a.tagName.toLowerCase()){var d=a.selectedIndex,e=a.options,f=[];if("select-one"===a.type)return d<0?null:e[d].value;for(b=0;b<e.length;b++)e[b].selected&&f.push(e[b].value);return f}if(a.name&&a.name.match(/\[\]$/)){var c=a.form.elements[a.name].tagName?[a]:a.form.elements[a.name],f=[];for(b=0;b<c.length;b++)("checkbox"!==c[b].type||c[b].checked)&&f.push(c[b].value);return f}return"checkbox"===a.type?a.checked:"textarea"===a.tagName.toLowerCase()?a.value.replace("\r",""):a.value.replace("\r","").replace(/^\s+|\s+$/g,"")}return a[0]?Nette.getValue(a[0]):null}return null},Nette.getEffectiveValue=function(a){var b=Nette.getValue(a);return a.getAttribute&&b===a.getAttribute("data-nette-empty-value")&&(b=""),b},Nette.validateControl=function(a,b,c,d,e){a=a.tagName?a:a[0],b=b||Nette.parseJSON(a.getAttribute("data-nette-rules")),d=void 0===d?{value:Nette.getEffectiveValue(a)}:d;for(var f=0,g=b.length;f<g;f++){var h=b[f],i=h.op.match(/(~)?([^?]+)/),j=h.control?a.form.elements.namedItem(h.control):a;if(h.neg=i[1],h.op=i[2],h.condition=!!h.rules,j)if("optional"!==h.op){if(e&&!h.condition&&":filled"!==h.op)return!0;j=j.tagName?j:j[0];var k=a===j?d:{value:Nette.getEffectiveValue(j)},l=Nette.validateRule(j,h.op,h.arg,k);if(null!==l)if(h.neg&&(l=!l),h.condition&&l){if(!Nette.validateControl(a,h.rules,c,d,":blank"!==h.op&&e))return!1}else if(!h.condition&&!l){if(Nette.isDisabled(j))continue;if(!c){var m=Nette.isArray(h.arg)?h.arg:[h.arg],n=h.msg.replace(/%(value|\d+)/g,function(b,c){return Nette.getValue("value"===c?j:a.form.elements.namedItem(m[c].control))});Nette.addError(j,n)}return!1}}else e=!Nette.validateRule(a,":filled",null,d)}return!(!c&&"number"===a.type&&!a.validity.valid)||(Nette.addError(a,"Please enter a valid value."),!1)},Nette.validateForm=function(a){var b=a.form||a,c=!1;if(Nette.formErrors=[],b["nette-submittedBy"]&&null!==b["nette-submittedBy"].getAttribute("formnovalidate")){var d=Nette.parseJSON(b["nette-submittedBy"].getAttribute("data-nette-validation-scope"));if(!d.length)return Nette.showFormErrors(b,[]),!0;c=new RegExp("^("+d.join("-|")+"-)")}var e,f,g={};for(e=0;e<b.elements.length;e++)if(f=b.elements[e],!f.tagName||f.tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}){if("radio"===f.type){if(g[f.name])continue;g[f.name]=!0}if(!(c&&!f.name.replace(/]\[|\[|]|$/g,"-").match(c)||Nette.isDisabled(f)||Nette.validateControl(f)||Nette.formErrors.length))return!1}var h=!Nette.formErrors.length;return Nette.showFormErrors(b,Nette.formErrors),h},Nette.isDisabled=function(a){if("radio"===a.type){for(var b=0,c=a.form.elements;b<c.length;b++)if(c[b].name===a.name&&!c[b].disabled)return!1;return!0}return a.disabled},Nette.addError=function(a,b){Nette.formErrors.push({element:a,message:b})},Nette.showFormErrors=function(a,b){var c,d=[];for(var e in b){var f=b[e].element,g=b[e].message;Nette.inArray(d,g)||(d.push(g),!c&&f.focus&&(c=f))}d.length&&(alert(d.join("\n")),c&&c.focus())},Nette.expandRuleArgument=function(a,b){if(b&&b.control){var c=a.elements.namedItem(b.control),d={value:Nette.getEffectiveValue(c)};Nette.validateControl(c,null,!0,d),b=d.value}return b},Nette.validateRule=function(a,b,c,d){d=void 0===d?{value:Nette.getEffectiveValue(a)}:d,":"===b.charAt(0)&&(b=b.substr(1)),b=b.replace("::","_"),b=b.replace(/\\/g,"");for(var e=Nette.isArray(c)?c.slice(0):[c],f=0,g=e.length;f<g;f++)e[f]=Nette.expandRuleArgument(a.form,e[f]);return Nette.validators[b]?Nette.validators[b](a,Nette.isArray(c)?e:e[0],d.value,d):null},Nette.validators={filled:function(a,b,c){return!("number"!==a.type||!a.validity.badInput)||""!==c&&c!==!1&&null!==c&&(!Nette.isArray(c)||!!c.length)&&(!window.FileList||!(c instanceof window.FileList)||c.length)},blank:function(a,b,c){return!Nette.validators.filled(a,b,c)},valid:function(a,b,c){return Nette.validateControl(a,null,!0)},equal:function(a,b,c){function d(a){return"number"==typeof a||"string"==typeof a?""+a:a===!0?"1":""}if(void 0===b)return null;c=Nette.isArray(c)?c:[c],b=Nette.isArray(b)?b:[b];a:for(var e=0,f=c.length;e<f;e++){for(var g=0,h=b.length;g<h;g++)if(d(c[e])===d(b[g]))continue a;return!1}return!0},notEqual:function(a,b,c){return void 0===b?null:!Nette.validators.equal(a,b,c)},minLength:function(a,b,c){if("number"===a.type){if(a.validity.tooShort)return!1;if(a.validity.badInput)return null}return c.length>=b},maxLength:function(a,b,c){if("number"===a.type){if(a.validity.tooLong)return!1;if(a.validity.badInput)return null}return c.length<=b},length:function(a,b,c){if("number"===a.type){if(a.validity.tooShort||a.validity.tooLong)return!1;if(a.validity.badInput)return null}return b=Nette.isArray(b)?b:[b,b],(null===b[0]||c.length>=b[0])&&(null===b[1]||c.length<=b[1])},email:function(a,b,c){return/^("([ !#-[\]-~]|\\[ -~])+"|[-a-z0-9!#$%&'*+\/=?^_`{|}~]+(\.[-a-z0-9!#$%&'*+\/=?^_`{|}~]+)*)@([0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)+[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?$/i.test(c)},url:function(a,b,c,d){return/^[a-z\d+.-]+:/.test(c)||(c="http://"+c),!!/^https?:\/\/((([-_0-9a-z\u00C0-\u02FF\u0370-\u1EFF]+\.)*[0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)?[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[[0-9a-f:]{3,39}\])(:\d{1,5})?(\/\S*)?$/i.test(c)&&(d.value=c,!0)},regexp:function(a,b,c){var d="string"==typeof b&&b.match(/^\/(.*)\/([imu]*)$/);try{return d&&new RegExp(d[1],d[2].replace("u","")).test(c)}catch(a){}},pattern:function(a,b,c){try{return"string"==typeof b?new RegExp("^(?:"+b+")$").test(c):null}catch(a){}},integer:function(a,b,c){return("number"!==a.type||!a.validity.badInput)&&/^-?[0-9]+$/.test(c)},float:function(a,b,c,d){return("number"!==a.type||!a.validity.badInput)&&(c=c.replace(" ","").replace(",","."),!!/^-?[0-9]*[.,]?[0-9]+$/.test(c)&&(d.value=c,!0))},min:function(a,b,c){if("number"===a.type){if(a.validity.rangeUnderflow)return!1;if(a.validity.badInput)return null}return Nette.validators.range(a,[b,null],c)},max:function(a,b,c){if("number"===a.type){if(a.validity.rangeOverflow)return!1;if(a.validity.badInput)return null}return Nette.validators.range(a,[null,b],c)},range:function(a,b,c){if("number"===a.type){if(a.validity.rangeUnderflow||a.validity.rangeOverflow)return!1;if(a.validity.badInput)return null}return Nette.isArray(b)?(null===b[0]||parseFloat(c)>=b[0])&&(null===b[1]||parseFloat(c)<=b[1]):null},submitted:function(a,b,c){return a.form["nette-submittedBy"]===a},fileSize:function(a,b,c){if(window.FileList)for(var d=0;d<c.length;d++)if(c[d].size>b)return!1;return!0},image:function(a,b,c){if(window.FileList&&c instanceof window.FileList)for(var d=0;d<c.length;d++){var e=c[d].type;if(e&&"image/gif"!==e&&"image/png"!==e&&"image/jpeg"!==e)return!1}return!0}},Nette.toggleForm=function(a,b){var c;for(Nette.toggles={},c=0;c<a.elements.length;c++)a.elements[c].tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}&&Nette.toggleControl(a.elements[c],null,null,!b);for(c in Nette.toggles)Nette.toggle(c,Nette.toggles[c],b)},Nette.toggleControl=function(a,b,c,d,e){b=b||Nette.parseJSON(a.getAttribute("data-nette-rules")),e=void 0===e?{value:Nette.getEffectiveValue(a)}:e;for(var f,g=!1,h=[],i=function(){Nette.toggleForm(a.form,a)},j=0,k=b.length;j<k;j++){var l=b[j],m=l.op.match(/(~)?([^?]+)/),n=l.control?a.form.elements.namedItem(l.control):a;if(n){if(f=c,c!==!1){l.neg=m[1],l.op=m[2];var o=a===n?e:{value:Nette.getEffectiveValue(n)};if(f=Nette.validateRule(n,l.op,l.arg,o),null===f)continue;l.neg&&(f=!f),l.rules||(c=f)}if(l.rules&&Nette.toggleControl(a,l.rules,f,d,e)||l.toggle){if(g=!0,d)for(var p=!document.addEventListener,q=n.tagName?n.name:n[0].name,r=n.tagName?n.form.elements:n,s=0;s<r.length;s++)r[s].name!==q||Nette.inArray(h,r[s])||(Nette.addEvent(r[s],p&&r[s].type in{checkbox:1,radio:1}?"click":"change",i),h.push(r[s]));for(var t in l.toggle||[])Object.prototype.hasOwnProperty.call(l.toggle,t)&&(Nette.toggles[t]=Nette.toggles[t]||(l.toggle[t]?f:!f))}}}return g},Nette.parseJSON=function(s){return"{op"===(s||"").substr(0,3)?eval("["+s+"]"):JSON.parse(s||"[]")},Nette.toggle=function(a,b,c){var d=document.getElementById(a);d&&(d.style.display=b?"":"none")},Nette.initForm=function(a){a.noValidate="novalidate",Nette.addEvent(a,"submit",function(b){Nette.validateForm(a)||(b&&b.stopPropagation?(b.stopPropagation(),b.preventDefault()):window.event&&(event.cancelBubble=!0,event.returnValue=!1))}),Nette.toggleForm(a)},Nette.initOnLoad=function(){Nette.addEvent(document,"DOMContentLoaded",function(){for(var a=0;a<document.forms.length;a++)for(var b=document.forms[a],c=0;c<b.elements.length;c++)if(b.elements[c].getAttribute("data-nette-rules")){Nette.initForm(b);break}Nette.addEvent(document.body,"click",function(a){var b=a.target||a.srcElement;b.form&&b.type in{submit:1,image:1}&&(b.form["nette-submittedBy"]=b)})})},Nette.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},Nette.inArray=function(a,b){if([].indexOf)return a.indexOf(b)>-1;for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},Nette.webalize=function(a){a=a.toLowerCase();var b,c,d="";for(b=0;b<a.length;b++)c=Nette.webalizeTable[a.charAt(b)],d+=c?c:a.charAt(b);return d.replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")},Nette.webalizeTable={"á":"a","ä":"a","č":"c","ď":"d","é":"e","ě":"e","í":"i","ľ":"l","ň":"n","ó":"o","ô":"o","ř":"r","š":"s","ť":"t","ú":"u","ů":"u","ý":"y","ž":"z"},Nette}),function(a,b,c){if("function"!=typeof b)return console.error("nette.ajax.js: jQuery is missing, load it please");var d=function(){var d={self:this,initialized:!1,contexts:{},on:{init:{},load:{},prepare:{},before:{},start:{},success:{},complete:{},error:{}},fire:function(){var a=!0,e=Array.prototype.slice.call(arguments),f=e.shift(),g="string"==typeof f?f:f.name,h="object"==typeof f?f.off||{}:{};return e.push(d.self),b.each(d.on[g],function(f,g){if(g===c||b.inArray(f,h)!==-1)return!0;var i=g.apply(d.contexts[f],e);return a=i===c||i}),a},requestHandler:function(a){var b=d.self.ajax({},this,a);if(b&&b._returnFalse)return!1},ext:function(a,e,f){for(;!f;)f="ext_"+Math.random(),d.contexts[f]&&(f=c);b.each(a,function(a,b){d.on[a][f]=b}),d.contexts[f]=b.extend(e?e:{},{name:function(){return f},ext:function(a,b){var c=d.contexts[a];if(!c&&b)throw"Extension '"+this.name()+"' depends on disabled extension '"+a+"'.";return c}})}};this.ext=function(a,e,f){if("object"==typeof a)d.ext(a,e);else{if(e===c)return d.contexts[a];if(e){if("string"==typeof a&&d.contexts[a]!==c)throw"Cannot override already registered nette-ajax extension '"+a+"'.";d.ext(e,f,a)}else b.each(["init","load","prepare","before","start","success","complete","error"],function(b,e){d.on[e][a]=c}),d.contexts[a]=c}return this},this.init=function(a,b){if(d.initialized)throw"Cannot initialize nette-ajax twice.";if("function"==typeof a)this.ext("init",null),this.ext("init",{load:a},b);else if("object"==typeof a)this.ext("init",null),this.ext("init",a,b);else if(a!==c)throw"Argument of init() can be function or function-hash only.";return d.initialized=!0,d.fire("init"),this.load(),this},this.load=function(){return d.fire("load",d.requestHandler),this},this.ajax=function(e,f,g){if("string"===b.type(e)&&(e={url:e}),!e.nette&&f&&g){var h,i=b(f),j=e.nette={e:g,ui:f,el:i,isForm:i.is("form"),isSubmit:i.is("input[type=submit]")||i.is("button[type=submit]"),isImage:i.is("input[type=image]"),form:null};if(j.isSubmit||j.isImage?j.form=j.el.closest("form"):j.isForm&&(j.form=j.el),e.url||(e.url=j.form?j.form.attr("action")||a.location.pathname+a.location.search:f.href),e.type||(e.type=j.form?j.form.attr("method"):"get"),i.is("[data-ajax-off]")){var k=i.attr("data-ajax-off");0===k.indexOf("[")?e.off=i.data("ajaxOff"):k.indexOf(",")!==-1?e.off=k.split(","):k.indexOf(" ")!==-1?e.off=k.split(" "):e.off=k,"string"==typeof e.off&&(e.off=[e.off]),e.off=b.grep(b.each(e.off,function(a){return b.trim(a)}),function(a){return a.length})}}return d.fire({name:"prepare",off:e.off||{}},e),e.prepare&&e.prepare(e),h=e.beforeSend,e.beforeSend=function(a,b){var e=d.fire({name:"before",off:b.off||{}},a,b);return(e||e===c)&&h&&(e=h(a,b)),e},this.handleXHR(b.ajax(e),e)},this.handleXHR=function(a,b){return b=b||{},!a||"undefined"!=typeof a.statusText&&"canceled"===a.statusText||(a.done(function(a,c,e){d.fire({name:"success",off:b.off||{}},a,c,e,b)}).fail(function(a,c,e){d.fire({name:"error",off:b.off||{}},a,c,e,b)}).always(function(a,c){d.fire({name:"complete",off:b.off||{}},a,c,b)}),d.fire({name:"start",off:b.off||{}},a,b),b.start&&b.start(a,b)),a}};b.nette=new(b.extend(d,b.nette?b.nette:{})),b.fn.netteAjax=function(a,c){return b.nette.ajax(c||{},this[0],a)},b.fn.netteAjaxOff=function(){return this.off(".nette")},b.nette.ext("validation",{before:function(a,d){if(!d.nette)return!0;var e=d.nette,f=e.e,g=b.extend({keys:!0,url:!0,form:!0},d.validate||function(){if(e.el.is("[data-ajax-validate]")){var a=e.el.data("ajaxValidate");return a===!1?{keys:!1,url:!1,form:!1}:"object"==typeof a?a:void 0}}()||{}),h=!1;if(e.el.attr("data-ajax-pass")!==c&&(h=e.el.data("ajaxPass"),h="bool"!=typeof h||h),g.keys){var i=f.button||f.ctrlKey||f.shiftKey||f.altKey||f.metaKey;if(e.form){if(i&&e.isSubmit)return this.explicitNoAjax=!0,!1;if(e.isForm&&this.explicitNoAjax)return this.explicitNoAjax=!1,!1}else if(i)return!1}if(g.form&&e.form){(e.isSubmit||e.isImage)&&(e.form.get(0)["nette-submittedBy"]=e.el.get(0));var j=this.ie();if(e.form.get(0).onsubmit&&e.form.get(0).onsubmit("undefined"!=typeof j&&j<9?c:f)===!1)return f.stopImmediatePropagation(),f.preventDefault(),!1}return(!g.url||!/:|^#/.test(e.form?d.url:e.el.attr("href")))&&(h||(f.stopPropagation(),f.preventDefault(),a._returnFalse=!0),!0)}},{explicitNoAjax:!1,ie:function(a){for(var b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}}),b.nette.ext("forms",{init:function(){var b;a.Nette&&(b=this.ext("snippets"))&&b.after(function(b){b.find("form").each(function(){a.Nette.initForm(this)})})},prepare:function(c){var d=c.nette;if(d&&d.form){var e=d.e,f=c.data||{},g={};if(d.isSubmit)g[d.el.attr("name")]=d.el.val()||"";else if(d.isImage){var h=d.el.offset(),i=d.el.attr("name"),j=[Math.max(0,e.pageX-h.left),Math.max(0,e.pageY-h.top)];i.indexOf("[",0)!==-1?g[i]=j:(g[i+".x"]=j[0],g[i+".y"]=j[1])}var k=d.form.attr("method");if(k&&"post"===k.toLowerCase()&&"FormData"in a){var l=new FormData(d.form[0]);for(var m in g)l.append(m,g[m]);if("string"!=typeof f)for(var m in f)l.append(m,f[m]);c.data=l,c.processData=!1,c.contentType=!1}else"string"!=typeof f&&(f=b.param(f)),g=b.param(g),c.data=d.form.serialize()+(g?"&"+g:"")+"&"+f}}}),b.nette.ext("snippets",{success:function(a){a.snippets&&this.updateSnippets(a.snippets)}},{beforeQueue:b.Callbacks(),afterQueue:b.Callbacks(),completeQueue:b.Callbacks(),before:function(a){this.beforeQueue.add(a)},after:function(a){this.afterQueue.add(a)},complete:function(a){this.completeQueue.add(a)},updateSnippets:function(a,c){var d=this,e=[];for(var f in a){var g=this.getElement(f);g.get(0)&&e.push(g.get(0)),this.updateSnippet(g,a[f],c)}b(e).promise().done(function(){d.completeQueue.fire()})},updateSnippet:function(a,b,c){a.is("title")?document.title=b:(this.beforeQueue.fire(a),this.applySnippet(a,b,c),this.afterQueue.fire(a))},getElement:function(a){return b("#"+this.escapeSelector(a))},applySnippet:function(a,b,c){!c&&a.is("[data-ajax-append]")?a.append(b):!c&&a.is("[data-ajax-prepend]")?a.prepend(b):a.html()!=b&&a.html(b)},escapeSelector:function(a){return a.replace(/[\!"#\$%&'\(\)\*\+,\.\/:;<=>\?@\[\\\]\^`\{\|\}~]/g,"\\$&")}}),b.nette.ext("redirect",{success:function(b){if(b.redirect)return a.location.href=b.redirect,!1}}),b.nette.ext("state",{success:function(a){a.state&&(this.state=a.state)}},{state:null}),b.nette.ext("unique",{start:function(a){this.xhr&&this.xhr.abort(),this.xhr=a},complete:function(){this.xhr=null}},{xhr:null}),b.nette.ext("abort",{init:function(){b("body").keydown(b.proxy(function(a){this.xhr&&"27"===a.keyCode.toString()&&!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)&&this.xhr.abort()},this))},start:function(a){this.xhr=a},complete:function(){this.xhr=null}},{xhr:null}),b.nette.ext("load",{success:function(){b.nette.load()}}),b.nette.ext("init",{load:function(a){b(this.linkSelector).off("click.nette",a).on("click.nette",a),b(this.formSelector).off("submit.nette",a).on("submit.nette",a).off("click.nette",":image",a).on("click.nette",":image",a).off("click.nette",":submit",a).on("click.nette",":submit",a),b(this.buttonSelector).closest("form").off("click.nette",this.buttonSelector,a).on("click.nette",this.buttonSelector,a)}},{linkSelector:"a.ajax",formSelector:"form.ajax",buttonSelector:'input.ajax[type="submit"], button.ajax[type="submit"], input.ajax[type="image"]'})}(window,window.jQuery),function(a,b){a.nette.ext({before:function(a,b){if(b.nette){var c=b.nette.el.data("confirm");return c?confirm(c):void 0}}})}(jQuery);